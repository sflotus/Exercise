<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <style>
    .grid {
      display: flex;
      justify-content: space-around;
      align-items: center;
    }
    #mobileNokia,
    #mobileIphone {
      border: 1px solid;
      border-radius: 3px;
    }
  </style>
  <body>
    <div class="grid">
      <div id="mobileNokia">
        <form action="">
          <table>
            <tr>
              <td>
                <label for="nokiaInbox">Inbox Message</label>
              </td>
              <td>
                <textarea name="" id="nokiaInbox" cols="30" rows="5"></textarea>
              </td>
            </tr>
            <tr>
              <td>
                <label for="nokiaSent">Sent Message</label>
              </td>
              <td>
                <textarea name="" id="nokiaSent" cols="30" rows="5"></textarea>
              </td>
            </tr>
            <tr>
              <td>
                <label for="nokiaDraf">Draf Message</label>
              </td>
              <td>
                <textarea name="" id="nokiaDraf" cols="30" rows="5"></textarea>
              </td>
            </tr>
            <tr>
              <td><span>Status:</span></td>
              <td><span id="nokiaStatus"></span></td>
            </tr>
            <tr>
              <td><span>battery:</span></td>
              <td><span id="nokiabattery"></span></td>
            </tr>
            <tr>
              <td>
                <input
                  style="width: 65px"
                  type="button"
                  name="nokia"
                  id=""
                  onclick="turnMobile(nokia)"
                  value="On/Off" />
                <br />
                <br />
                <input
                  style="width: 65px"
                  type="button"
                  name="nokia"
                  id=""
                  onclick="chargerMobile(nokia)"
                  value="Charger" />
              </td>
              <td>
                <input
                  style="width: 110px"
                  type="button"
                  name="nokia"
                  id=""
                  onclick="sendMes(nokia)"
                  value="Send Message" />
                <input
                  style="width: 110px"
                  type="button"
                  name="nokia"
                  id=""
                  onclick="typeMes(nokia)"
                  value="Type Message" />
                <br />
                <br />
                <input
                  style="width: 110px"
                  type="button"
                  name="nokia"
                  id=""
                  onclick="clearSendMes(nokia)"
                  value="Clear Outbox " />
                <input
                  style="width: 110px"
                  type="button"
                  name="nokia"
                  id=""
                  onclick="clearInboxMes(nokia)"
                  value="Clear Inbox" />
              </td>
            </tr>
          </table>
        </form>
      </div>
      <div id="mobileIphone">
        <form action="">
          <table>
            <tr>
              <td>
                <label for="iphoneInbox">Inbox Message</label>
              </td>
              <td>
                <textarea id="iphoneInbox" cols="30" rows="5"></textarea>
              </td>
            </tr>
            <tr>
              <td>
                <label for="iphoneSent">Sent Message</label>
              </td>
              <td>
                <textarea name="" id="iphoneSent" cols="30" rows="5"></textarea>
              </td>
            </tr>
            <tr>
              <td>
                <label for="iphoneDraf">Draf Message</label>
              </td>
              <td>
                <textarea name="" id="iphoneDraf" cols="30" rows="5"></textarea>
              </td>
            </tr>
            <tr>
              <td><span>Status:</span></td>
              <td><span id="iphoneStatus"></span></td>
            </tr>
            <tr>
              <td><span>battery:</span></td>
              <td><span id="iphonebattery"></span></td>
            </tr>
            <tr>
              <td>
                <input
                  style="width: 65px"
                  type="button"
                  name="iphone"
                  id=""
                  onclick="turnMobile(iphone)"
                  value="On/Off" />
                <br />
                <br />
                <input
                  style="width: 65px"
                  type="button"
                  name="iphone"
                  id=""
                  onclick="chargerMobile(iphone)"
                  value="Charger" />
              </td>
              <td>
                <input
                  style="width: 110px"
                  type="button"
                  name="iphone"
                  id=""
                  onclick="sendMes(iphone)"
                  value="Send Message" />
                <input
                  style="width: 110px"
                  type="button"
                  name="iphone"
                  id=""
                  onclick="typeMes(iphone)"
                  value="Type Message" />
                <br />
                <br />
                <input
                  style="width: 110px"
                  type="button"
                  name="iphone"
                  id=""
                  onclick="clearSendMes(iphone)"
                  value="Clear Outbox " />
                <input
                  style="width: 110px"
                  type="button"
                  name="iphone"
                  id=""
                  onclick="clearInboxMes(iphone)"
                  value="Clear Inbox" />
              </td>
            </tr>
          </table>
        </form>
      </div>
    </div>
  </body>
  <script>
    class Mobile {
      constructor(
        phoneName,
        status,
        battery,
        inboxMessage,
        sentMessage,
        drafMessage
      ) {
        this.phoneName = phoneName;
        this.status = status;
        this.battery = battery;
        this.inboxMessage = inboxMessage;
        this.sentMessage = sentMessage;
        this.drafMessage = drafMessage;
      }
      draf() {
        if (checkStatus(this.status)) {
          // let Message = prompt("Mời bạn nhập nội dung");
          let Message = addInput();
          this.drafMessage += Message + " ";
          this.battery--;
        } else alert("Please turn on your Phone");
      }
      getMessage(mobile) {
        mobile.inboxMessage += this.drafMessage;
        mobile.battery--;
      }
      send(mobile) {
        if (checkStatus(this.status)) {
          if (this.drafMessage) {
            this.getMessage(mobile);
            this.sentMessage += this.drafMessage;
            this.drafMessage = "";
            this.battery--;
          } else
            alert("Your phone: " + this.phoneName + " Draf Message is empty");
        } else alert("Please turn on your Phone");
      }
      turnOnOff(mobile) {
        if (this.battery > 0) {
          if (checkStatus(this.status)) {
            this.status = "OFF";
            this.battery--;
            alert("Turn off: " + this.phoneName);
          } else {
            this.status = "ON";
            this.battery--;
            alert("Turn on: " + this.phoneName);
          }
        } else alert("Your phone is low battery. Please Charger!");
      }
      charger(mobile) {
        this.battery = 100;
        alert("Your phone: " + mobile + " is full battery!");
      }
      clearinbox() {
        if (checkStatus(this.status)) {
          if (this.inboxMessage) {
            this.battery--;
          }
          this.inboxMessage = "";
          alert("Your phone: " + this.phoneName + " outbox is empty");
        } else alert("Please turn on your Phone");
      }
      clearoutbox() {
        if (checkStatus(this.status)) {
          if (this.sentMessage) {
            this.battery--;
          }
          this.sentMessage = "";
          alert("Your phone: " + this.phoneName + " outbox is empty");
        } else alert("Please turn on your Phone");
      }
    }
    function addInput() {
      let input = prompt("Mời bạn nhập nội dung");
      while (true) {
        if (input) {
          return input;
        } else return "";
      }
    }
    function checkStatus(status) {
      if (status === "ON") {
        return true;
      } else return false;
    }
    function display() {
      //display nokia
      document.getElementById("nokiaInbox").innerHTML = nokia.inboxMessage;
      document.getElementById("nokiaSent").innerHTML = nokia.sentMessage;
      document.getElementById("nokiaDraf").innerHTML = nokia.drafMessage;
      document.getElementById("nokiaStatus").innerHTML = nokia.status;
      document.getElementById("nokiabattery").innerHTML = nokia.battery + "%";
      // display iphone
      document.getElementById("iphoneInbox").innerHTML = iphone.inboxMessage;
      document.getElementById("iphoneSent").innerHTML = iphone.sentMessage;
      document.getElementById("iphoneDraf").innerHTML = iphone.drafMessage;
      document.getElementById("iphoneStatus").innerHTML = iphone.status;
      document.getElementById("iphonebattery").innerHTML = iphone.battery + "%";
    }
    ///Interaction between 2 phones
    var nokia = new Mobile("Nokia", "ON", 100, "", "", "");
    var iphone = new Mobile("Iphone", "ON", 80, "", "", "");
    display();
    function turnMobile(mobile) {
      if (mobile === "nokia") {
        nokia.turnOnOff(mobile);
      } else if (mobile === "iphone") {
        iphone.turnOnOff(mobile);
      }
      display();
    }
    function chargerMobile(mobile) {
      if (mobile === "nokia") {
        nokia.charger(mobile);
      } else if (mobile === "iphone") {
        iphone.charger(mobile);
      }
      display();
    }
    function sendMes(mobile) {
      if (mobile === "nokia") {
        nokia.send(iphone);
      }
      if (mobile === "iphone") {
        iphone.send(nokia);
      }
      display();
    }
    function typeMes(mobile) {
      if (mobile === "nokia") {
        nokia.draf();
      } else if (mobile === "iphone") {
        iphone.draf();
      }
      display();
    }
    function clearInboxMes(mobile) {
      if (mobile === "nokia") {
        nokia.clearinbox();
      } else if (mobile === "iphone") {
        iphone.clearinbox();
      }
      display();
    }
    function clearSendMes(mobile) {
      if (mobile === "nokia") {
        nokia.clearoutbox();
      } else if (mobile === "iphone") {
        iphone.clearoutbox();
      }
      display();
    }
  </script>
</html>
